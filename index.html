<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>QR Scanner Mobile</title>
<script src="https://unpkg.com/html5-qrcode@2.3.7/minified/html5-qrcode.min.js"></script>
<style>
  body { display:flex; flex-direction:column; align-items:center; font-family:sans-serif; padding:20px; }
  #reader { width:90vw; height:90vw; max-width:400px; max-height:400px; margin-top:20px; }
  #result { margin-top:20px; font-weight:bold; word-break:break-word; }
</style>
</head>
<body>
<h1>QR Scanner</h1>
<div id="reader"></div>
<div id="result">Waiting for QR code...</div>

<script>
function onScanSuccess(decodedText) {
  document.getElementById("result").innerText = "Scanned: " + decodedText;
}

function onScanFailure(error) {
  // optional logging
}

const scanner = new Html5Qrcode("reader");

// start scanning with first available camera
Html5Qrcode.getCameras().then(cameras => {
  if(cameras && cameras.length) {
    scanner.start(cameras[0].id, { fps: 10, qrbox: 250 }, onScanSuccess, onScanFailure)
      .catch(err => alert("Unable to start camera: " + err));
  } else {
    alert("No camera found!");
  }
}).catch(err => alert("Camera error: " + err));
</script>
</body>
</html>
